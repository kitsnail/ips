import{d as x,l as b,q as a,t,v as l,x as w,a as r,o as h,y,z as V,r as m,A as p}from"./element-plus-K37pJI3g.js";import{u as k}from"./index-DmX7KA4i.js";import{a as S}from"./api-6KZm3PBg.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-500 to-purple-600"},L={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-8 transform transition-all duration-300 hover:scale-[1.01]"},N=x({__name:"LoginView",setup(A){const g=k(),o=m(""),s=m(""),n=m(!1),i=async()=>{if(!o.value||!s.value){p.warning("请输入用户名和密码");return}n.value=!0;try{const{token:d}=await S.login({username:o.value,password:s.value});localStorage.setItem("ips_token",d),localStorage.setItem("ips_user",JSON.stringify({username:o.value})),p.success("登录成功"),g.replace("/dashboard")}catch{p.error("登录失败，请检查用户名和密码")}finally{n.value=!1}};return(d,e)=>{const c=r("el-input"),f=r("el-form-item"),_=r("el-button"),v=r("el-form");return h(),b("div",I,[a("div",L,[e[3]||(e[3]=a("div",{class:"text-center mb-8"},[a("h1",{class:"text-3xl font-bold text-gray-800 dark:text-white mb-2"},"IPS Console"),a("p",{class:"text-gray-500 dark:text-gray-400"},"镜像预热控制台")],-1)),t(v,{onSubmit:w(i,["prevent"]),"label-position":"top",size:"large"},{default:l(()=>[t(f,{label:"用户名",class:"mb-6"},{default:l(()=>[t(c,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=u=>o.value=u),placeholder:"请输入用户名","prefix-icon":"User",class:"!h-12"},null,8,["modelValue"])]),_:1}),t(f,{label:"密码",class:"mb-8"},{default:l(()=>[t(c,{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=u=>s.value=u),type:"password",placeholder:"请输入密码","prefix-icon":"Lock","show-password":"",class:"!h-12",onKeyup:y(i,["enter"])},null,8,["modelValue"])]),_:1}),t(_,{type:"primary",loading:n.value,class:"w-full !h-12 !text-lg !rounded-lg !font-semibold !bg-gradient-to-r from-blue-600 to-indigo-600 hover:!from-blue-700 hover:!to-indigo-700 !border-0 shadow-lg hover:shadow-xl transition-all duration-300",onClick:i},{default:l(()=>[...e[2]||(e[2]=[V(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1}),e[4]||(e[4]=a("div",{class:"mt-8 text-center text-sm text-gray-400"}," © 2026 IPS System. All rights reserved. ",-1))])])}}}),K=C(N,[["__scopeId","data-v-8edec52e"]]);export{K as default};
